{"version":3,"sources":["utils/Methods.js","components/BookItem.js","components/BookList.js","components/BookShelf.js","screens/HomeScreen.js","BooksAPI.js","screens/SearchScreen.js","screens/FourZeroFour.js","App.js","index.js"],"names":["correctShelfName","name","BookItem","_ref","book","handleBookUpdate","react_default","a","createElement","className","style","width","height","backgroundImage","concat","imageLinks","thumbnail","value","info","onChange","e","target","shelf","handleChange","map","item","key","title","authors","author","BookList","books","length","filter","index","components_BookItem","BookShelf","components_BookList","HomeScreen","shelves","components_BookShelf","react_router_dom","to","api","token","localStorage","Math","random","toString","substr","headers","Accept","Authorization","SearchScreen","state","filteredBooks","query","_this2","this","setState","trim","fetch","method","Object","objectSpread","Content-Type","body","JSON","stringify","then","res","json","data","arr","Array","isArray","assignShelves","_this3","checkedBooks","found","props","id","push","_this4","_this$state","type","placeholder","handleQueryChange","Component","FourZeroFour","BooksApp","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","bind","assertThisInitialized","includes","prevState","toConsumableArray","BooksApi","updatedBook","error","console","react_router","exact","path","render","screens_HomeScreen","SearchScreen_SearchScreen","screens_FourZeroFour","React","ReactDOM","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.70005471.chunk.js","sourcesContent":["export function correctShelfName(name) {\r\n    switch (name) {\r\n      case \"currentlyReading\":\r\n        return \"Currently Reading\";\r\n        break;\r\n      case \"wantToRead\":\r\n        return \"Want To Read\";\r\n        break;\r\n      case \"read\":\r\n        return \"Read\";\r\n        break;\r\n      default:\r\n        return \"None\"\r\n        break;\r\n    }\r\n  }","import React from \"react\";\r\nimport { correctShelfName } from \"../utils/Methods\";\r\nimport PropTypes from \"prop-types\";\r\nfunction BookItem({ book, handleBookUpdate }) {\r\n  function handleChange(e) {\r\n    const { value } = e.target;\r\n    if (value !== book.shelf) {\r\n      handleBookUpdate(book, value);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <li>\r\n      <div className=\"book\">\r\n        <div className=\"book-top\">\r\n          <div\r\n            className=\"book-cover\"\r\n            style={{\r\n              width: 128,\r\n              height: 188,\r\n              backgroundImage: `url(${\r\n                !!book.imageLinks ? book.imageLinks.thumbnail : \"\"\r\n              })`,\r\n            }}\r\n          />\r\n\r\n          <div className=\"book-shelf-changer\">\r\n            <select value={book.info} onChange={(e) => handleChange(e)}>\r\n              <option value=\"\">Move to...</option>\r\n              {[\"currentlyReading\", \"wantToRead\", \"read\", \"none\"].map(\r\n                (item) => {\r\n                  return (\r\n                    <option\r\n                      value={item}\r\n                      key={item}\r\n                      className={\r\n                        !!book.shelf\r\n                          ? book.shelf === item\r\n                            ? \"active\"\r\n                            : \"\"\r\n                          : \"\"\r\n                      }\r\n                    >\r\n                      {correctShelfName(item)}\r\n                    </option>\r\n                  );\r\n                }\r\n              )}\r\n            </select>\r\n          </div>\r\n        </div>\r\n        <div className=\"book-title\">{book.title}</div>\r\n        <div className=\"book-authors\">\r\n          {!!book.authors\r\n            ? book.authors.map((author) => <span key={author}>{author} </span>)\r\n            : \"\"}\r\n        </div>\r\n      </div>\r\n    </li>\r\n  );\r\n}\r\n\r\nBookItem.propTypes = {\r\n  book: PropTypes.object.isRequired,\r\n  handleBookUpdate: PropTypes.func.isRequired,\r\n};\r\nexport default BookItem;\r\n","import React from \"react\";\r\nimport BookItem from \"./BookItem\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nfunction BookList({ books, shelf, handleBookUpdate }) {\r\n  return (\r\n    <ol className=\"books-grid\">\r\n      {books.length !== 0 ? (\r\n        !!shelf && shelf !== \"\" ? (\r\n          books\r\n            .filter((book) => book.shelf === shelf)\r\n            .map((book, index) => (\r\n              <BookItem\r\n                key={index}\r\n                book={book}\r\n                handleBookUpdate={handleBookUpdate}\r\n              />\r\n            ))\r\n        ) : (\r\n          books.map((book, index) => (\r\n            <BookItem\r\n              key={index}\r\n              book={book}\r\n              handleBookUpdate={handleBookUpdate}\r\n            />\r\n          ))\r\n        )\r\n      ) : (\r\n        <li>\r\n          <p>Nothing is here!!!</p>\r\n        </li>\r\n      )}\r\n    </ol>\r\n  );\r\n}\r\n\r\nBookList.propTypes = {\r\n  books: PropTypes.array.isRequired,\r\n  shelf: PropTypes.string,\r\n  handleBookUpdate: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default BookList;\r\n","import React from \"react\";\r\nimport BookList from \"./BookList\";\r\nimport { correctShelfName } from \"../utils/Methods\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nfunction BookShelf({ shelf, books, handleBookUpdate }) {\r\n  \r\n    return (\r\n      <div className=\"bookshelf\">\r\n        <h2 className=\"bookshelf-title\">{correctShelfName(shelf)}</h2>\r\n        <div className=\"bookshelf-books\">\r\n          {books === [] ? (\r\n            <p>Nothings is here bro!!!</p>\r\n          ) : (\r\n            <BookList\r\n              books={books}\r\n              shelf={shelf}\r\n              handleBookUpdate={handleBookUpdate}\r\n            />\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\nBookShelf.propTypes = {\r\n  books: PropTypes.array.isRequired,\r\n  shelf: PropTypes.string.isRequired,\r\n  handleBookUpdate: PropTypes.func.isRequired,\r\n};\r\nexport default BookShelf\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport BookShelf from \"../components/BookShelf\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nfunction HomeScreen({ shelves, books, handleBookUpdate }) {\r\n  return (\r\n    <div className=\"list-books\">\r\n      <div className=\"list-books-title\">\r\n        <h1>MyReads</h1>\r\n      </div>\r\n      <div className=\"list-books-content\">\r\n        <div>\r\n          {shelves.map((shelf) => (\r\n            <BookShelf\r\n              books={books}\r\n              shelf={shelf}\r\n              key={shelf}\r\n              handleBookUpdate={handleBookUpdate}\r\n            />\r\n          ))}\r\n        </div>\r\n      </div>\r\n      <div className=\"open-search\">\r\n        <Link to=\"/search\">Add a book</Link>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nHomeScreen.propTypes = {\r\n  books: PropTypes.array.isRequired,\r\n  shelves: PropTypes.array.isRequired,\r\n  handleBookUpdate: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default HomeScreen;\r\n","\r\nconst api = \"https://reactnd-books-api.udacity.com\"\r\n\r\n\r\n// Generate a unique token for storing your bookshelf data on the backend server.\r\nlet token = localStorage.token\r\nif (!token)\r\n  token = localStorage.token = Math.random().toString(36).substr(-8)\r\n\r\nconst headers = {\r\n  'Accept': 'application/json',\r\n  'Authorization': token\r\n}\r\n\r\nexport const get = (bookId) =>\r\n  fetch(`${api}/books/${bookId}`, { headers })\r\n    .then(res => res.json())\r\n    .then(data => data.book)\r\n\r\nexport const getAll = () =>\r\n  fetch(`${api}/books`, { headers })\r\n    .then(res => res.json())\r\n    .then(data => data.books)\r\n\r\nexport const update = (book, shelf) =>\r\n  fetch(`${api}/books/${book.id}`, {\r\n    method: 'PUT',\r\n    headers: {\r\n      ...headers,\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({ shelf })\r\n  }).then(res => res.json())\r\n\r\nexport const search = (query) =>\r\n  fetch(`${api}/search`, {\r\n    method: 'POST',\r\n    headers: {\r\n      ...headers,\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({ query })\r\n  }).then(res => res.json())\r\n    .then(data => data.books)\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport BookList from \"../components/BookList\";\r\nimport * as BooksApi from \"../BooksAPI\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default class SearchScreen extends Component {\r\n  state = {\r\n    filteredBooks: [],\r\n    query: \"\",\r\n  };\r\n\r\n  handleQueryChange(e) {\r\n    const { value } = e.target;\r\n\r\n    this.setState(() => ({\r\n      query: value,\r\n    }));\r\n\r\n    if (!!value.trim) {\r\n      BooksApi.search(value).then((res) => {\r\n        const arr = Array.isArray(res) ? this.assignShelves(res) : [];\r\n        this.setState({\r\n          filteredBooks: arr,\r\n        });\r\n      });\r\n    }\r\n    if (value === \"\") {\r\n      this.setState(() => ({\r\n        filteredBooks: [],\r\n      }));\r\n    }\r\n  }\r\n  assignShelves(res) {\r\n    const checkedBooks = [];\r\n    res.map((item) => {\r\n      const found = this.props.books.filter((book) => book.id === item.id);\r\n      if (found.length !== 0) {\r\n        // console.log(\"found it\", item.title);\r\n        item.shelf = found[0].shelf;\r\n        checkedBooks.push(item);\r\n      } else {\r\n        item.shelf = \"none\";\r\n        checkedBooks.push(item);\r\n      }\r\n    });\r\n    return checkedBooks;\r\n  }\r\n  render() {\r\n    const { query, filteredBooks } = this.state;\r\n    const {handleBookUpdate } = this.props;\r\n\r\n    return (\r\n      <div className=\"search-books\">\r\n        <div className=\"search-books-bar\">\r\n          <Link className=\"close-search\" to=\"/\">\r\n            Close\r\n          </Link>\r\n          <div className=\"search-books-input-wrapper\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Search by title or author\"\r\n              value={query}\r\n              onChange={(e) => this.handleQueryChange(e)}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"search-books-results\">\r\n          <BookList books={filteredBooks} handleBookUpdate={handleBookUpdate} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nSearchScreen.propTypes = {\r\n  books: PropTypes.array.isRequired,\r\n  handleBookUpdate: PropTypes.func.isRequired,\r\n};\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction FourZeroFour() {\r\n  return (\r\n    <div className=\"not-found\">\r\n      <h1>Ooops!!!</h1>\r\n      <p> The page you are looking does not exist</p>\r\n      <div>\r\n        <Link to=\"/\">Back to Home</Link>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default FourZeroFour;\r\n","import React from \"react\";\r\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\r\n// import * as BooksAPI from './BooksAPI'\r\nimport \"./App.css\";\r\nimport HomeScreen from \"./screens/HomeScreen\";\r\nimport SearchScreen from \"./screens/SearchScreen\";\r\nimport * as BooksApi from \"./BooksAPI\";\r\nimport FourZeroFour from \"./screens/FourZeroFour\";\r\n\r\nclass BooksApp extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.handleBookUpdate = this.handleBookUpdate.bind(this);\r\n  }\r\n  state = {\r\n    books: [],\r\n    shelves: [],\r\n  };\r\n\r\n  componentDidMount() {\r\n    BooksApi.getAll().then((res) => {\r\n      this.setState({ books: res });\r\n      res.map((book) => {\r\n        if (!this.state.shelves.includes(book.shelf)) {\r\n          this.setState((prevState) => ({\r\n            shelves: [...prevState.shelves, book.shelf],\r\n          }));\r\n        }\r\n      });\r\n    });\r\n  }\r\n  handleBookUpdate(book, shelf) {\r\n    try {\r\n      BooksApi.update(book, shelf).then((res) => {\r\n        let updatedBook = book;\r\n        updatedBook.shelf = shelf;\r\n        this.setState((prevState) => ({\r\n          books: [\r\n            ...prevState.books.filter((item) => item.id !== updatedBook.id),\r\n            updatedBook,\r\n          ],\r\n        }));\r\n      });\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  }\r\n  render() {\r\n    const { books, shelves } = this.state;\r\n\r\n    return (\r\n      <div className=\"app\">\r\n        <BrowserRouter>\r\n        <Switch>\r\n          <Route\r\n            exact\r\n            path=\"/\"\r\n            render={() => (\r\n              <HomeScreen\r\n                books={books}\r\n                shelves={shelves}\r\n                handleBookUpdate={this.handleBookUpdate}\r\n              />\r\n            )}\r\n          />\r\n          <Route\r\n            exact\r\n            path=\"/search\"\r\n            render={() => (\r\n              <SearchScreen\r\n                books={books}\r\n                handleBookUpdate={this.handleBookUpdate}\r\n              />\r\n            )}\r\n          />\r\n          <Route exact render={() => <FourZeroFour />} />\r\n          </Switch>\r\n        </BrowserRouter>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default BooksApp;\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\nimport './index.css'\r\n// import OldApp from './OldApp'\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))\r\n"],"sourceRoot":""}